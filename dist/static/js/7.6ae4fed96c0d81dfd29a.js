webpackJsonp([7],{Diqs:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleReview}},[s("el-button",{attrs:{type:"text",disabled:t.disabled}},["review"===t.customer.status?[s("span",{staticClass:"text-warning"},[s("i",{staticClass:"icon el-icon-info"}),t._v("待审核")])]:t._e(),t._v(" "),"conflict"===t.customer.status?[s("span",{staticClass:"text-danger"},[s("i",{staticClass:"icon el-icon-warning"}),t._v("冲突信息")])]:t._e(),t._v(" "),"process"===t.customer.status?[s("span",{staticClass:"text-primary"},[s("i",{staticClass:"icon el-icon-time"}),t._v("进行中")])]:t._e(),t._v(" "),"success"===t.customer.status?[s("span",{staticClass:"text-success"},[s("i",{staticClass:"icon el-icon-success"}),t._v("成功")])]:t._e(),t._v(" "),"invalid"===t.customer.status?[s("span",{staticClass:"text-info"},[s("i",{staticClass:"icon el-icon-error"}),t._v("无效")])]:t._e()],2),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"process",disabled:"success"===t.customer.status||"process"===t.customer.status}},[s("i",{staticClass:"el-icon-info text-primary"}),s("span",{staticClass:"text-primary"},[t._v("通过审核")])]),t._v(" "),s("el-dropdown-item",{attrs:{command:"conflict",disabled:"conflict"===t.customer.status||"success"===t.customer.status||"invalid"===t.customer.status}},[s("i",{staticClass:"el-icon-warning text-danger"}),s("span",{staticClass:"text-danger"},[t._v("冲突信息")])]),t._v(" "),s("el-dropdown-item",{attrs:{command:"success",disabled:"success"===t.customer.status||"review"===t.customer.status||"invalid"===t.customer.status||"conflict"===t.customer.status}},[s("i",{staticClass:"icon el-icon-success text-success"}),s("span",{staticClass:"text-success"},[t._v("标记成功")])]),t._v(" "),s("el-dropdown-item",{attrs:{command:"invalid",disabled:"invalid"===t.customer.status}},[s("i",{staticClass:"icon el-icon-error text-info"}),s("span",{staticClass:"text-info"},[t._v("标记无效")])])],1)],1),t._v(" "),s("el-dialog",{staticClass:"quote-dialog",attrs:{title:"引用投资人信息",visible:t.dialogQuoteVisible,"before-close":t.handleClose,width:"70%","close-on-click-modal":!1}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.quoteLoading,expression:"quoteLoading"}],staticClass:"search",attrs:{"element-loading-text":"玩命加载中..."}},[s("el-form",{attrs:{inline:"",model:t.searchInput,size:"mini"}},[s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{attrs:{placeholder:"姓名","prefix-icon":"el-icon-service"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchQuotes(e)}},model:{value:t.searchInput.username,callback:function(e){t.$set(t.searchInput,"username",e)},expression:"searchInput.username"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"电话"}},[s("el-input",{attrs:{placeholder:"电话号码","prefix-icon":"el-icon-phone"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchQuotes(e)}},model:{value:t.searchInput.phone,callback:function(e){t.$set(t.searchInput,"phone",e)},expression:"searchInput.phone"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"状态",placeholder:"推荐状态"}},[s("el-select",{model:{value:t.searchInput.status,callback:function(e){t.$set(t.searchInput,"status",e)},expression:"searchInput.status"}},[s("el-option",{attrs:{label:"进行中",value:"process"}}),t._v(" "),s("el-option",{attrs:{label:"成功",value:"success"}})],1)],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchQuotes}},[t._v("查找")])],1)],1)],1),t._v(" "),s("el-table",{attrs:{data:t.customers,height:"250",width:"800"}},[s("el-table-column",{attrs:{type:"index",width:"40"}}),t._v(" "),s("el-table-column",{attrs:{label:"姓名",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{staticStyle:{"padding-top":"0","padding-bottom":"0"},attrs:{type:"text",disabled:e.row.id===t.customer.id||"conflict"===e.row.status||"review"===e.row.status||"invalid"===e.row.status},on:{click:function(s){t.addQuote(e.row)}}},[t._v("\n            "+t._s(e.row.username)+"\n          ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return["review"===e.row.status?s("span",{staticClass:"text-warning"},[t._v("待审核")]):t._e(),t._v(" "),"process"===e.row.status?s("span",{staticClass:"text-primary"},[t._v("进行中")]):t._e(),t._v(" "),"success"===e.row.status?s("span",{staticClass:"text-success"},[t._v("已成功")]):t._e(),t._v(" "),"invalid"===e.row.status?s("span",{staticClass:"text-info"},[t._v("无效")]):t._e(),t._v(" "),"conflict"===e.row.status?s("span",{staticClass:"text-danger"},[t._v("冲突")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{property:"location",label:"地址",width:"120"}}),t._v(" "),s("el-table-column",{attrs:{property:"phone",label:"电话",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{property:"created_at",label:"推荐时间"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{staticStyle:{"padding-top":"0","padding-bottom":"0"},attrs:{type:"text",disabled:e.row.id===t.customer.id||"conflict"===e.row.status||"review"===e.row.status||"invalid"===e.row.status},on:{click:function(s){t.addQuote(e.row)}}},[t._v("引用\n          ")])]}}])})],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-pagination",{staticClass:"dialog-page",attrs:{"page-size":15,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.changePage}})],1)],1),t._v(" "),s("el-dialog",{staticClass:"note-dialog",attrs:{title:"备注",visible:t.noteDialogVisible,width:"30%",top:"28vh","lock-scroll":"","close-on-click-modal":!1,"before-close":t.handleCloseNoteDialog}},[s("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("请输入"+t._s(t.text)+"的备注信息")]),t._v(" "),s("label",[t._v("管理员备注")]),t._v(" "),s("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入"+t.text+"的备注信息，只对管理员自己可见，这是必填的"},model:{value:t.customer.admin_note,callback:function(e){t.$set(t.customer,"admin_note",e)},expression:"customer.admin_note"}}),t._v(" "),s("label",[t._v("用户进展提示")]),t._v(" "),s("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"textarea",placeholder:t.text+"信息备注，将会在用户前端进展显示，用于告知用户"+t.text+"原因，这也是必填的！"},model:{value:t.customer.invalid_progress,callback:function(e){t.$set(t.customer,"invalid_progress",e)},expression:"customer.invalid_progress"}}),t._v(" "),"conflict"===t.command?s("el-button",{attrs:{type:"text"},on:{click:t.quote}},[t._v("引用冲突信息")]):t._e(),t._v(" "),s("div",[t.conflict?s("el-tag",{attrs:{closable:""},on:{close:t.removeConflict}},[t._v(t._s(t.conflict.username))]):t._e()],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:function(e){t.noteDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addNote}},[t._v("确 定")])],1)],1)],1)},n=[],r={render:a,staticRenderFns:n};e.a=r},EMlb:function(t,e,s){"use strict";var a=s("Xxa5"),n=s.n(a),r=s("exGp"),o=s.n(r),i=s("Zx67"),c=s.n(i),u=s("Zrlr"),l=s.n(u),p=s("wxAW"),d=s.n(p),m=s("zwoO"),v=s.n(m),f=s("Pf15"),h=s.n(f),g=s("pP4B"),_=function(t){function e(){return l()(this,e),v()(this,(e.__proto__||c()(e)).apply(this,arguments))}return h()(e,t),d()(e,null,[{key:"getList",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var s,a=e.userId,r=void 0===a?"":a,o=e.status,i=void 0===o?"":o,c=e.isRead,u=void 0===c?"":c,l=e.hasProgress,p=void 0===l?"":l,d=e.page,m=void 0===d?1:d,v=e.size,f=void 0===v?15:v;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.baseUrl+"/user/project/list?user_id="+r+"&status="+i+"&isRead="+u+"&hasProgress="+p+"&page="+m+"&size="+f,t.next=3,this.get(s);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"update",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var s,a=e.id,r=e.status,o=e.money,i=void 0===o?0:o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.baseUrl+"/admin/project",t.next=3,this.put(s,{id:a,status:r,money:i});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"getMoney",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return t}()},{key:"getProgress",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.baseUrl+"/user/progress?recommend_id="+e,t.next=3,this.get(s);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"addProgress",value:function(){function t(t,s){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e,s){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.baseUrl+"/admin/progress",t.next=3,this.post(a,{project_id:e,progress:s});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()}]),e}(g.a);e.a=_},HwFI:function(t,e,s){"use strict";var a=s("Xxa5"),n=s.n(a),r=s("exGp"),o=s.n(r),i=(s("jKoA"),s("gec0")),c=s("JaHG");e.a={data:function(){return{data:[],searchInput:{},page:1,total:0,isLoading:!1,title:""}},watch:{$route:function(t){this.getTitle(),!1!==t.params.cache||"MoneyList"!==t.name&&"TypeMoneyList"!==t.name||(t.params.type?this.getData(t.params.type):this.getData())}},head:{title:function(){if("TypeMoneyList"===this.$route.name)return{inner:this.title}}},methods:{getTitle:function(){if("MoneyList"===this.$route.name||"TypeMoneyList"===this.$route.name){switch(this.$route.params.type){case"cash":this.title="红包管理";break;case"reward":this.title="奖金管理";break;default:this.title="全部佣金"}this.$emit("updateHead")}},getDetail:function(t){this.$router.push({name:"CustomerDetail",params:{id:t.recommend_id}})},getData:function(t,e){var s=this;return o()(n.a.mark(function a(){var r,o,u,l;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s.$Progress.start(),s.isLoading=!0,r=s.$loading({target:document.querySelector(".loading"),fullscreen:!1,text:"玩命加载中..."}),s.$router.push({query:{page:s.page,species:t,status:e}}),a.next=6,i.a.getCashes({page:s.page,species:t,status:e});case 6:o=a.sent,u=o.data,l=o.total,s.data=u?u.map(function(t){return t.recommend_location=c.a.parseLocation(t.recommend_location),t}):[],s.total=l,r.close(),s.isLoading=!1,s.$Progress.finish();case 14:case"end":return a.stop()}},a,s)}))()},changePage:function(t){this.page=t,this.getData(this.searchInput.species,this.searchInput.status)},search:function(){this.$route.params.type&&(this.searchInput.species=this.$route.params.type),this.getData(this.searchInput.species,this.searchInput.status)},goBelongList:function(t){this.$router.push({name:"CustomerList",query:{user_id:t},params:{cache:!1}})}},mounted:function(){if("MoneyList"===this.$route.name||"TypeMoneyList"===this.$route.name){this.getTitle();var t=this.$route.params.type?this.$route.params.type:this.searchInput.species;this.getData(t,this.searchInput.status)}}}},I83l:function(t,e,s){e=t.exports=s("FZ+f")(!0),e.push([t.i,".note-dialog .el-dialog__header{padding:15px 15px 0}.note-dialog .el-dialog__body{padding:0 20px}.note-dialog .el-dialog__footer{padding:0 15px 10px}","",{version:3,sources:["D:/working/manage-sales/src/components/Review.vue"],names:[],mappings:"AACA,gCACE,mBAAqB,CACtB,AACD,8BACE,cAAgB,CACjB,AACD,gCACE,mBAAqB,CACtB",file:"Review.vue",sourcesContent:["\n.note-dialog .el-dialog__header {\n  padding: 15px 15px 0;\n}\n.note-dialog .el-dialog__body {\n  padding: 0 20px;\n}\n.note-dialog .el-dialog__footer {\n  padding: 0 15px 10px;\n}\n"],sourceRoot:""}])},LmRX:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("HwFI"),n=s("kBR+"),r=s("VU/8"),o=r(a.a,n.a,!1,null,null,null);e.default=o.exports},UL3F:function(t,e,s){var a=s("I83l");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("4f1c77b0",a,!0)},VYwL:function(t,e,s){"use strict";var a=s("Xxa5"),n=s.n(a),r=s("exGp"),o=s.n(r),i=s("mMlH"),c=s("EMlb"),u=s("JaHG");e.a={props:["customer","disabled"],data:function(){return{dialogQuoteVisible:!1,noteDialogVisible:!1,quoteLoading:!1,customers:[],text:"",searchInput:{},conflict:null,page:1,total:0,command:""}},methods:{handleReview:function(t){var e=this;return o()(n.a.mark(function s(){var a,r,o;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a="",s.t0=t,s.next="process"===s.t0?4:"success"===s.t0?6:"invalid"===s.t0?8:"conflict"===s.t0?10:12;break;case 4:return a="通过审核",s.abrupt("break",12);case 6:return a="成功",s.abrupt("break",12);case 8:return a="无效",s.abrupt("break",12);case 10:return a="冲突",s.abrupt("break",12);case 12:if(e.text=a,e.command=t,"process"!==t&&"success"!==t){s.next=17;break}return s.next=17,e.$confirm("确定要标记这条信息为“"+a+"”状态吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 17:if(s.prev=17,"conflict"!==t&&"invalid"!==t){s.next=22;break}e.noteDialogVisible=!0,s.next=31;break;case 22:return e.loading=e.$loading({lock:!0,text:"正在修改",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"}),s.next=25,i.a.review(e.customer.id,t);case 25:r=s.sent,o=r.data,e.customer.status=o.status,e.$emit("update:row",t),e.loading.close(),e.$message({type:"success",showClose:!0,dangerouslyUseHTMLString:!0,message:"成功标记推荐信息为“<strong>"+a+"</strong>”状态"});case 31:s.next=38;break;case 33:s.prev=33,s.t1=s.catch(17),console.error(s.t1),e.loading.close(),e.$message({type:"error",showClose:!0,dangerouslyUseHTMLString:!0,message:"标记失败！ "+s.t1.errmsg});case 38:case"end":return s.stop()}},s,e,[[17,33]])}))()},quote:function(){var t=this;return o()(n.a.mark(function e(){var s,a,r,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.$loading({target:document.querySelector(".quote-dialog"),text:"玩命加载中...",fullscreen:!1}),t.dialogQuoteVisible=!0,e.prev=2,t.status=["process","success"],e.next=6,i.a.search({status:t.status});case 6:a=e.sent,r=a.data,o=a.total,r?(t.customers=r.map(function(t){return t.location=u.a.parseLocation(t.location),t}),t.total=o):t.customers=[],e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:s.close();case 15:case"end":return e.stop()}},e,t,[[2,12]])}))()},addQuote:function(t){this.conflict=t,this.dialogQuoteVisible=!1},searchQuotes:function(){var t=this;return o()(n.a.mark(function e(){var s,a,r,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.$loading({target:document.querySelector(".quote-dialog"),text:"玩命加载中...",fullscreen:!1}),t.status=[t.searchInput.status],e.next=4,i.a.search({phone:t.searchInput.phone,username:t.searchInput.username,status:t.searchInput.status,page:t.page});case 4:a=e.sent,r=a.data,o=a.total,r?(t.customers=r.map(function(t){return t.location=u.a.parseLocation(t.location),t}),t.total=o):t.customers=[],s.close();case 9:case"end":return e.stop()}},e,t)}))()},changePage:function(t){var e=this;return o()(n.a.mark(function s(){var a,r,o,c;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=e.$loading({target:document.querySelector(".quote-dialog"),text:"玩命加载中...",fullscreen:!1}),s.prev=1,s.next=4,i.a.search({phone:e.searchInput.phone,username:e.searchInput.username,status:e.status,page:t});case 4:r=s.sent,o=r.data,c=r.total,o?(e.customers=o.map(function(t){return t.location=u.a.parseLocation(t.location),t}),e.total=c):e.customers=[],s.next=12;break;case 10:s.prev=10,s.t0=s.catch(1);case 12:a.close();case 13:case"end":return s.stop()}},s,e,[[1,10]])}))()},removeConflict:function(){this.conflict=null},handleClose:function(){this.dialogQuoteVisible=!1},handleCloseNoteDialog:function(){this.noteDialogVisible=!1},addNote:function(){var t=this;return o()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("conflict"!==t.command){e.next=20;break}if(e.prev=1,!t.customer.admin_note||!t.customer.invalid_progress){e.next=14;break}if(t.conflict){e.next=6;break}return t.$message.error("您必须添加冲突信息引用才可以继续！"),e.abrupt("return");case 6:return e.next=8,i.a.addConflictRelations({id:t.$route.params.id,conflict_id:t.conflict.id,note:t.customer.admin_note});case 8:return e.next=10,c.a.addProgress(t.customer.project_id,t.customer.invalid_progress);case 10:t.$message({type:"success",message:"成功标记"+t.customer.username+"为冲突信息"}),t.customer.status="conflict",t.$emit("addProgress"),t.noteDialogVisible=!1;case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(1);case 18:e.next=37;break;case 20:if("invalid"!==t.command){e.next=37;break}if(e.prev=21,!t.customer.admin_note||!t.customer.invalid_progress){e.next=33;break}return e.next=25,i.a.review(t.customer.id,"invalid");case 25:return e.next=27,i.a.addNote(t.customer.id,t.customer.admin_note);case 27:return e.next=29,c.a.addProgress(t.customer.project_id,t.customer.invalid_progress);case 29:t.$message({type:"success",message:"成功标记"+t.customer.username+"为无效信息"}),t.customer.status="invalid",t.$emit("addProgress"),t.noteDialogVisible=!1;case 33:e.next=37;break;case 35:e.prev=35,e.t1=e.catch(21);case 37:case"end":return e.stop()}},e,t,[[1,16],[21,35]])}))()}}}},gec0:function(t,e,s){"use strict";var a=s("Xxa5"),n=s.n(a),r=s("exGp"),o=s.n(r),i=s("Zx67"),c=s.n(i),u=s("Zrlr"),l=s.n(u),p=s("wxAW"),d=s.n(p),m=s("zwoO"),v=s.n(m),f=s("Pf15"),h=s.n(f),g=s("pP4B"),_=s("JaHG"),b=function(t){function e(){return l()(this,e),v()(this,(e.__proto__||c()(e)).apply(this,arguments))}return h()(e,t),d()(e,null,[{key:"getCash",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.baseUrl+"/user/cash?recommend_id="+e,t.next=3,this.get(s);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"setCash",value:function(){function t(t,s){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e,s){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.baseUrl+"/admin/cash",t.next=3,this.post(a,{recommend_id:e,money:s,note:r});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"setReward",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=this.baseUrl+"/admin/reward";return this.post(a,{recommend_id:t,money:e,note:s})}},{key:"getCashes",value:function(t){var e=t.userId,s=t.status,a=t.species,n=t.page,r=void 0===n?1:n,o=t.size,i=void 0===o?15:o,c=_.a.stringify({userId:e,status:s,species:a,page:r,size:i}),u=this.baseUrl+"/user/cashrecommend/list"+c;return this.get(u)}},{key:"remit",value:function(t){var e=this.baseUrl+"/admin/cash/remit?projects_progress_id="+t;return this.put(e)}}]),e}(g.a);e.a=b},jKoA:function(t,e,s){"use strict";function a(t){s("UL3F")}var n=s("VYwL"),r=s("Diqs"),o=s("VU/8"),i=a,c=o(n.a,r.a,!1,i,null,null);e.a=c.exports},"kBR+":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-form",{attrs:{inline:"",mode:t.searchInput}},[s("el-form-item",{attrs:{label:"申请状态："}},[s("el-select",{attrs:{placeholder:"是否申请",size:"mini"},model:{value:t.searchInput.status,callback:function(e){t.$set(t.searchInput,"status",e)},expression:"searchInput.status"}},[s("el-option",{attrs:{label:"不限",value:""}}),t._v(" "),s("el-option",{attrs:{label:"已申请",value:"receive"}}),t._v(" "),s("el-option",{attrs:{label:"未申请",value:"not_receive"}})],1)],1),t._v(" "),t.$route.params.type?t._e():s("el-form-item",{attrs:{label:"类型："}},[s("el-select",{attrs:{placeholder:"选择一种类型",size:"mini"},model:{value:t.searchInput.species,callback:function(e){t.$set(t.searchInput,"species",e)},expression:"searchInput.species"}},[s("el-option",{attrs:{label:"不限",value:""}}),t._v(" "),s("el-option",{attrs:{label:"红包",value:"cash"}}),t._v(" "),s("el-option",{attrs:{label:"奖金",value:"reward"}})],1)],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{size:"mini",icon:"el-icon-search",type:"primary",loading:t.isLoading},on:{click:t.search}})],1)],1),t._v(" "),s("el-table",{staticClass:"loading",attrs:{data:t.data}},[s("el-table-column",{attrs:{type:"index"}}),t._v(" "),s("el-table-column",{attrs:{label:"姓名",prop:"recommend_name","show-overflow-tooltip":""}}),t._v(" "),s("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["review"===e.row.recommend_status?s("span",{staticClass:"text-warning"},[s("i",{staticClass:"icon el-icon-info"}),t._v("待审核")]):t._e(),t._v(" "),"process"===e.row.recommend_status?s("span",{staticClass:"text-primary"},[s("i",{staticClass:"icon el-icon-time"}),t._v("进行中")]):t._e(),t._v(" "),"success"===e.row.recommend_status?s("span",{staticClass:"text-success"},[s("i",{staticClass:"icon el-icon-success"}),t._v("已成功")]):t._e(),t._v(" "),"invalid"===e.row.recommend_status?s("span",{staticClass:"text-info"},[s("i",{staticClass:"icon el-icon-error"}),t._v("无效")]):t._e(),t._v(" "),"conflict"===e.row.recommend_status?s("span",{staticClass:"text-danger"},[s("i",{staticClass:"icon el-icon-warning"}),t._v("冲突")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"金额","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return["cash"===e.row.species?s("span",[t._v(t._s(e.row.money)),s("span",{staticClass:"text-danger"},[t._v("（红包）")])]):t._e(),t._v(" "),"reward"===e.row.species?s("span",[t._v(t._s(e.row.money)),s("span",{staticClass:"text-danger"},[t._v("（奖金）")])]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"电话",prop:"recommend_phone","show-overflow-tooltip":""}}),t._v(" "),s("el-table-column",{attrs:{label:"是否申请",width:"80","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return["not_receive"===e.row.status?s("div",[s("span",{staticClass:"text-warning"},[t._v("未申请")])]):t._e(),t._v(" "),"receive"===e.row.status?s("div",[s("span",{staticClass:"text-danger"},[t._v("已申请")])]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"打款","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.is_remit?s("el-tag",{attrs:{type:"danger",size:"small"}},[t._v("否")]):t._e(),t._v(" "),1===e.row.is_remit?s("el-tag",{attrs:{type:"success",size:"small"}},[t._v("是")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"推荐时间",prop:"created_at","show-overflow-tooltip":""}}),t._v(" "),s("el-table-column",{attrs:{label:"归属人","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.user_name?s("el-button",{attrs:{type:"text"},on:{click:function(s){t.goBelongList(e.row.user_id)}}},[t._v("\n          "+t._s(e.row.user_name)+"\n        ")]):s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"未授权用户",placement:"top-start"}},[s("el-button",{staticClass:"text-warning",attrs:{type:"text"},on:{click:function(s){t.goBelongList(e.row.user_id)}}},[t._v("\n            "+t._s("无名氏"+e.row.user_id)+"\n          ")])],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作人",prop:"admin_name","show-overflow-tooltip":""}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text"},on:{click:function(s){t.getDetail(e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),s("div",{staticClass:"block pull-right"},[s("el-pagination",{attrs:{"page-size":15,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.changePage}})],1)],1)},n=[],r={render:a,staticRenderFns:n};e.a=r},mMlH:function(t,e,s){"use strict";var a=s("Xxa5"),n=s.n(a),r=s("exGp"),o=s.n(r),i=s("Zx67"),c=s.n(i),u=s("Zrlr"),l=s.n(u),p=s("wxAW"),d=s.n(p),m=s("zwoO"),v=s.n(m),f=s("Pf15"),h=s.n(f),g=s("JaHG"),_=s("pP4B"),b=function(t){function e(){return l()(this,e),v()(this,(e.__proto__||c()(e)).apply(this,arguments))}return h()(e,t),d()(e,null,[{key:"getList",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var s,a,r,o=e.status,i=void 0===o?"":o,c=e.page,u=void 0===c?1:c,l=e.size,p=void 0===l?15:l,d=e.userId,m=void 0===d?"":d;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={status:i,user_id:m,size:p,page:u},a=g.a.stringify(s),r=this.baseUrl+"/admin/recommend/search"+a,t.next=5,this.get(r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"del",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.baseUrl+"/admin/recommend?id="+e,t.next=3,this.delete(s);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"review",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"review";return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.baseUrl+"/admin/recommend",t.next=3,this.post(s,{id:e,status:a});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"getOne",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.baseUrl+"/admin/recommend?id="+e,t.next=3,this.get(s);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"getDeleted",value:function(){function t(){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(){var e,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.baseUrl+"/admin/recommend/deleted",t.next=3,this.get(e);case 3:return s=t.sent,t.abrupt("return",g.a.response(s));case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"restore",value:function(){function t(t){return e.apply(this,arguments)}var e=o()(n.a.mark(function t(e){var s,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.baseUrl+"/admin/recommend/restore",t.next=3,this.get(s);case 3:return a=t.sent,t.abrupt("return",g.a.response(a));case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"recommendsCount",value:function(t){var e=this.baseUrl+"/admin/recommend/count?days="+t;return this.get(e)}},{key:"getHandleUsers",value:function(t){var e=this.baseUrl+"/admin/user/admins?admin_name="+t;return this.get(e)}},{key:"getBelongUsers",value:function(t){var e=this.baseUrl+"/admin/user/belongs?user_name="+t;return this.get(e)}},{key:"search",value:function(t){var e=t.username,s=void 0===e?null:e,a=t.status,n=void 0===a?null:a,r=t.phone,o=void 0===r?null:r,i=t.permission,c=void 0===i?null:i,u=t.intention,l=void 0===u?null:u,p=t.admin_id,d=void 0===p?null:p,m=t.user_id,v=void 0===m?null:m,f=t.start,h=void 0===f?null:f,_=t.end,b=void 0===_?null:_,x=t.page,w=void 0===x?1:x,y=t.size,k=void 0===y?15:y,C={username:s,status:n,phone:o,permission:c,intention:l,admin_id:d,user_id:v,start:h,end:b,page:w,size:k},$=g.a.stringify(C,{arrayFormat:"indices"}),I=this.baseUrl+"/admin/recommend/search"+$;return this.get(I)}},{key:"addConflictRelations",value:function(t){var e=t.id,s=t.conflict_id,a=t.note,n=this.baseUrl+"/admin/recommend/conflict";return this.post(n,{id:e,conflict_id:s,note:a})}},{key:"getConflicts",value:function(t){var e=this.baseUrl+"/admin/recommend/conflicts?id="+t;return this.get(e)}},{key:"getConflictReflect",value:function(t){var e=this.baseUrl+"/admin/recommend/conflicts/reflect?id="+t;return this.get(e)}},{key:"addNote",value:function(t,e){var s=this.baseUrl+"/admin/recommend/note";return this.post(s,{id:t,note:e})}}]),e}(_.a);e.a=b}});
//# sourceMappingURL=7.6ae4fed96c0d81dfd29a.js.map