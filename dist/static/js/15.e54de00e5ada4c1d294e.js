webpackJsonp([15],{"+0c+":function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("HG2o"),a=s("Z/uZ"),o=s("VU/8"),n=o(t.a,a.a,!1,null,null,null);r.default=n.exports},HG2o:function(e,r,s){"use strict";var t=s("Xxa5"),a=s.n(t),o=s("exGp"),n=s.n(o),l=s("kWq3"),u=s("vMJZ");r.a={data:function(){var e=this,r=function(r,s,t){""===s?t(new Error("请再次输入密码")):s!==e.user.password?t(new Error("两次密码输入不一致！")):t()};return{user:{role:"1"},addRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:12,message:"长度在3到5个字符之间",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{validator:l.a.email,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在6到16个字符之间",trigger:"blur"}],passwordConfirm:[{validator:r,trigger:"blur"}]}}},methods:{add:function(){var e=this;this.$refs.add.validate(function(){var r=n()(a.a.mark(function r(s){var t,o,n;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!s){r.next=16;break}return t=e.$loading({target:document.querySelector(".addForm"),text:"玩命加载中..."}),r.prev=2,r.next=5,u.a.add({username:e.user.username,password:e.user.password,email:e.user.email,role:e.user.role});case 5:o=r.sent,n=o.data,t.close(),e.$alert("成功添加用户"+e.user.username+"，请牢记登录密码！","重要提示",{confirmButtonText:"确定",closeOnClickModal:!1,type:"success",callback:function(r){e.user.username="",e.user.password="",e.user.email="",e.user.passwordConfirm=""}}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(2),t.close();case 14:r.next=17;break;case 16:return r.abrupt("return",!1);case 17:case"end":return r.stop()}},r,e,[[2,11]])}));return function(e){return r.apply(this,arguments)}}())}}}},"Z/uZ":function(e,r,s){"use strict";var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("h2",[e._v("添加"+e._s("1"===e.user.role?"管理员":"用户"))]),e._v(" "),s("el-form",{ref:"add",attrs:{"status-icon":"",model:e.user,rules:e.addRules,"label-width":"100px"}},[s("el-form-item",{staticClass:"addForm",attrs:{label:"用户名",prop:"username"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.user.username,callback:function(r){e.$set(e.user,"username","string"==typeof r?r.trim():r)},expression:"user.username"}})],1),e._v(" "),s("el-form-item",{staticClass:"addForm",attrs:{label:"邮箱",prop:"email"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email","string"==typeof r?r.trim():r)},expression:"user.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password","string"==typeof r?r.trim():r)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"passwordConfirm"}},[s("el-input",{attrs:{type:"password"},model:{value:e.user.passwordConfirm,callback:function(r){e.$set(e.user,"passwordConfirm","string"==typeof r?r.trim():r)},expression:"user.passwordConfirm"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"角色权限",prop:"role"}},[s("el-radio",{attrs:{label:"1"},model:{value:e.user.role,callback:function(r){e.$set(e.user,"role",r)},expression:"user.role"}},[e._v("管理员")]),e._v(" "),s("el-radio",{attrs:{label:"2",disabled:""},model:{value:e.user.role,callback:function(r){e.$set(e.user,"role",r)},expression:"user.role"}},[e._v("普通用户")])],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确认添加")]),e._v(" "),s("el-button",{on:{click:function(r){e.$router.go(-1)}}},[e._v("返回")])],1)],1)],1)},a=[],o={render:t,staticRenderFns:a};r.a=o},kWq3:function(e,r,s){"use strict";var t=s("Zrlr"),a=s.n(t),o=s("wxAW"),n=s.n(o),l=function(){function e(){a()(this,e)}return n()(e,null,[{key:"money",value:function(e,r,s){!1===/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/.test(r)?s(new Error("请输入正确的金额")):s()}},{key:"phone",value:function(e,r,s){if(""!==r){!1===/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/.test(r)?s(new Error("请输入正确的手机号")):s()}else s()}},{key:"email",value:function(e,r,s){if(r){!1===/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(r)?s(new Error("请输入正确的邮箱地址")):s()}else s()}}]),e}();r.a=l}});
//# sourceMappingURL=15.e54de00e5ada4c1d294e.js.map