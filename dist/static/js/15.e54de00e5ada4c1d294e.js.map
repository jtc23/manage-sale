{"version":3,"sources":["webpack:///static/js/15.e54de00e5ada4c1d294e.js","webpack:///./src/pages/user/Add.vue","webpack:///src/pages/user/Add.vue","webpack:///./src/pages/user/Add.vue?2a3a","webpack:///./src/common/validator.js"],"names":["webpackJsonp","+0c+","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Add_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7b0aee72_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Add_vue__","normalizeComponent","Component","HG2o","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2__common_validator__","__WEBPACK_IMPORTED_MODULE_3__api_user__","data","_this","this","validatePass","rule","callback","Error","user","password","role","addRules","username","required","message","trigger","min","max","email","validator","passwordConfirm","methods","add","_this2","$refs","validate","_ref","a","mark","_callee","valid","loading","_ref2","wrap","_context","prev","next","$loading","target","document","querySelector","text","sent","close","$alert","confirmButtonText","closeOnClickModal","type","action","t0","abrupt","stop","_x","apply","arguments","Z/uZ","render","_vm","_h","$createElement","_c","_self","_v","_s","ref","attrs","status-icon","model","rules","label-width","staticClass","label","prop","auto-complete","$$v","$set","trim","expression","disabled","on","click","$event","$router","go","staticRenderFns","esExports","kWq3","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","Validator","key","test"],"mappings":"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","file":"static/js/15.e54de00e5ada4c1d294e.js","sourcesContent":["webpackJsonp([15],{\n\n/***/ \"+0c+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Add_vue__ = __webpack_require__(\"HG2o\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7b0aee72_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Add_vue__ = __webpack_require__(\"Z/uZ\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Add_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7b0aee72_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Add_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"HG2o\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(\"Xxa5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(\"exGp\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_validator__ = __webpack_require__(\"kWq3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_user__ = __webpack_require__(\"vMJZ\");\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    var _this = this;\n\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请再次输入密码'));\n      } else if (value !== _this.user.password) {\n        callback(new Error('两次密码输入不一致！'));\n      } else {\n        callback();\n      }\n    };\n    return {\n\n      user: {\n        role: '1'\n      },\n      addRules: {\n        username: [{ required: true, message: '请输入用户名', trigger: 'blur' }, { min: 3, max: 12, message: '长度在3到5个字符之间', trigger: 'blur' }],\n        email: [{ required: true, message: '邮箱地址不能为空', trigger: 'blur' }, { validator: __WEBPACK_IMPORTED_MODULE_2__common_validator__[\"a\" /* default */].email, trigger: 'blur' }],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }, { min: 6, max: 16, message: '长度在6到16个字符之间', trigger: 'blur' }],\n        passwordConfirm: [{ validator: validatePass, trigger: 'blur' }]\n      }\n    };\n  },\n\n  methods: {\n    add: function add() {\n      var _this2 = this;\n\n      this.$refs.add.validate(function () {\n        var _ref = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(valid) {\n          var loading, _ref2, data;\n\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!valid) {\n                    _context.next = 16;\n                    break;\n                  }\n\n                  loading = _this2.$loading({\n                    target: document.querySelector('.addForm'),\n                    text: '玩命加载中...'\n                  });\n                  _context.prev = 2;\n                  _context.next = 5;\n                  return __WEBPACK_IMPORTED_MODULE_3__api_user__[\"a\" /* default */].add({\n                    username: _this2.user.username,\n                    password: _this2.user.password,\n                    email: _this2.user.email,\n                    role: _this2.user.role\n                  });\n\n                case 5:\n                  _ref2 = _context.sent;\n                  data = _ref2.data;\n\n                  loading.close();\n                  _this2.$alert('\\u6210\\u529F\\u6DFB\\u52A0\\u7528\\u6237' + _this2.user.username + '\\uFF0C\\u8BF7\\u7262\\u8BB0\\u767B\\u5F55\\u5BC6\\u7801\\uFF01', '重要提示', {\n                    confirmButtonText: '确定',\n                    closeOnClickModal: false,\n                    type: 'success',\n                    callback: function callback(action) {\n                      _this2.user.username = '';\n                      _this2.user.password = '';\n                      _this2.user.email = '';\n                      _this2.user.passwordConfirm = '';\n                    }\n                  });\n                  _context.next = 14;\n                  break;\n\n                case 11:\n                  _context.prev = 11;\n                  _context.t0 = _context['catch'](2);\n\n                  loading.close();\n\n                case 14:\n                  _context.next = 17;\n                  break;\n\n                case 16:\n                  return _context.abrupt('return', false);\n\n                case 17:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, _this2, [[2, 11]]);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"Z/uZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"添加\"+_vm._s(_vm.user.role === '1' ? '管理员' : '用户'))]),_vm._v(\" \"),_c('el-form',{ref:\"add\",attrs:{\"status-icon\":\"\",\"model\":_vm.user,\"rules\":_vm.addRules,\"label-width\":\"100px\"}},[_c('el-form-item',{staticClass:\"addForm\",attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"addForm\",attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"passwordConfirm\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.user.passwordConfirm),callback:function ($$v) {_vm.$set(_vm.user, \"passwordConfirm\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.passwordConfirm\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色权限\",\"prop\":\"role\"}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.user.role),callback:function ($$v) {_vm.$set(_vm.user, \"role\", $$v)},expression:\"user.role\"}},[_vm._v(\"管理员\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\",\"disabled\":\"\"},model:{value:(_vm.user.role),callback:function ($$v) {_vm.$set(_vm.user, \"role\", $$v)},expression:\"user.role\"}},[_vm._v(\"普通用户\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"确认添加\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"kWq3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n\n\n\nvar Validator = function () {\n  function Validator() {\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Validator);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Validator, null, [{\n    key: 'money',\n\n\n    /**\r\n     * 金钱验证\r\n     * @param rule\r\n     * @param value\r\n     * @param callback\r\n     */\n    value: function money(rule, value, callback) {\n      var reg = /(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)/;\n      if (reg.test(value) === false) {\n        callback(new Error('请输入正确的金额'));\n      } else {\n        callback();\n      }\n    }\n\n    //电话验证\n\n  }, {\n    key: 'phone',\n    value: function phone(rule, value, callback) {\n      if (value !== '') {\n        var reg = /^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/;\n        if (reg.test(value) === false) {\n          callback(new Error('请输入正确的手机号'));\n        } else {\n          callback();\n        }\n      } else {\n        callback();\n      }\n    }\n  }, {\n    key: 'email',\n    value: function email(rule, value, callback) {\n      if (value) {\n        var reg = /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/;\n        if (reg.test(value) === false) {\n          callback(new Error('请输入正确的邮箱地址'));\n        } else {\n          callback();\n        }\n      } else {\n        callback();\n      }\n    }\n  }]);\n\n  return Validator;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Validator);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/15.e54de00e5ada4c1d294e.js","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b0aee72\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user/Add.vue\n// module id = +0c+\n// module chunks = 15","<template>\r\n  <div>\r\n    <h2>添加{{user.role === '1' ? '管理员' : '用户'}}</h2>\r\n    <el-form status-icon :model=\"user\" ref=\"add\" :rules=\"addRules\" label-width=\"100px\">\r\n      <el-form-item label=\"用户名\" prop=\"username\" class=\"addForm\">\r\n        <el-input v-model.trim=\"user.username\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\" prop=\"email\" class=\"addForm\">\r\n        <el-input v-model.trim=\"user.email\" auto-complete=\"off\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" prop=\"password\">\r\n        <el-input type=\"password\" v-model.trim=\"user.password\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"确认密码\" prop=\"passwordConfirm\">\r\n        <el-input type=\"password\" v-model.trim=\"user.passwordConfirm\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"角色权限\" prop=\"role\">\r\n        <el-radio v-model=\"user.role\" label=\"1\">管理员</el-radio>\r\n        <el-radio v-model=\"user.role\" label=\"2\" disabled>普通用户</el-radio>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"add\">确认添加</el-button>\r\n        <el-button @click=\"$router.go(-1)\">返回</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Validator from '../../common/validator'\r\n  import user from '../../api/user'\r\n  export default {\r\n    data() {\r\n      const validatePass = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请再次输入密码'))\r\n        } else if (value !== this.user.password) {\r\n          callback(new Error('两次密码输入不一致！'))\r\n        } else {\r\n          callback()\r\n        }\r\n      }\r\n      return {\r\n\r\n        user: {\r\n          role: '1'\r\n        },\r\n        addRules: {\r\n          username: [\r\n            {required: true, message: '请输入用户名', trigger: 'blur'},\r\n            {min: 3, max: 12, message: '长度在3到5个字符之间', trigger: 'blur'}\r\n          ],\r\n          email: [\r\n            {required: true, message: '邮箱地址不能为空', trigger: 'blur'},\r\n            {validator: Validator.email, trigger: 'blur'}\r\n          ],\r\n          password: [\r\n            {required: true, message: '请输入密码', trigger: 'blur'},\r\n            {min: 6, max: 16, message: '长度在6到16个字符之间', trigger: 'blur'}\r\n          ],\r\n          passwordConfirm: [\r\n            {validator: validatePass, trigger: 'blur'}\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      add() {\r\n        this.$refs.add.validate(async (valid) => {\r\n          if (valid) {\r\n            const loading = this.$loading({\r\n              target: document.querySelector('.addForm'),\r\n              text: '玩命加载中...'\r\n            })\r\n            try {\r\n              const {data} = await user.add({\r\n                username: this.user.username,\r\n                password: this.user.password,\r\n                email: this.user.email,\r\n                role: this.user.role\r\n              })\r\n              loading.close()\r\n              this.$alert(`成功添加用户${this.user.username}，请牢记登录密码！`, '重要提示', {\r\n                confirmButtonText: '确定',\r\n                closeOnClickModal: false,\r\n                type: 'success',\r\n                callback: action => {\r\n                  this.user.username = ''\r\n                  this.user.password = ''\r\n                  this.user.email = ''\r\n                  this.user.passwordConfirm = ''\r\n                }\r\n              })\r\n            } catch (e) {\r\n              loading.close()\r\n            }\r\n          } else {\r\n            return false\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/user/Add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"添加\"+_vm._s(_vm.user.role === '1' ? '管理员' : '用户'))]),_vm._v(\" \"),_c('el-form',{ref:\"add\",attrs:{\"status-icon\":\"\",\"model\":_vm.user,\"rules\":_vm.addRules,\"label-width\":\"100px\"}},[_c('el-form-item',{staticClass:\"addForm\",attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"addForm\",attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"passwordConfirm\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.user.passwordConfirm),callback:function ($$v) {_vm.$set(_vm.user, \"passwordConfirm\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.passwordConfirm\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色权限\",\"prop\":\"role\"}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.user.role),callback:function ($$v) {_vm.$set(_vm.user, \"role\", $$v)},expression:\"user.role\"}},[_vm._v(\"管理员\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\",\"disabled\":\"\"},model:{value:(_vm.user.role),callback:function ($$v) {_vm.$set(_vm.user, \"role\", $$v)},expression:\"user.role\"}},[_vm._v(\"普通用户\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"确认添加\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b0aee72\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/user/Add.vue\n// module id = Z/uZ\n// module chunks = 15","export default class Validator {\r\n\r\n  /**\r\n   * 金钱验证\r\n   * @param rule\r\n   * @param value\r\n   * @param callback\r\n   */\r\n  static money(rule, value, callback) {\r\n    const reg = /(^[1-9]([0-9]+)?(\\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)/\r\n    if (reg.test(value) === false) {\r\n      callback(new Error('请输入正确的金额'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n\r\n  //电话验证\r\n  static phone(rule, value, callback) {\r\n    if (value !== '') {\r\n      const reg = /^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/\r\n      if (reg.test(value) === false) {\r\n        callback(new Error('请输入正确的手机号'))\r\n      } else {\r\n        callback()\r\n      }\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n\r\n  static email(rule, value, callback) {\r\n    if (value) {\r\n      const reg = /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/\r\n      if (reg.test(value) === false) {\r\n        callback(new Error('请输入正确的邮箱地址'))\r\n      } else {\r\n        callback()\r\n      }\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/validator.js"],"sourceRoot":""}