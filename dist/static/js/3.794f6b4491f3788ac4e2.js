webpackJsonp([3],{"5/xu":function(e,t,r){"use strict";var s=r("ZQlS"),a=r("Q+i8"),n=r("VU/8"),o=n(s.a,a.a,!1,null,null,null);t.a=o.exports},CfVP:function(e,t,r){"use strict";var s=r("Xxa5"),a=r.n(s),n=r("exGp"),o=r.n(n),i=r("Pfph"),c=r("mMlH"),l=r("gec0"),u=r("EMlb"),p=r("jKoA"),d=r("JaHG"),m=r("kWq3"),f=r("5/xu");t.a={data:function(){return{conflictDialogVisible:!1,reflectConflict:null,conflicts:[],loading:!1,cashPopVisible:!1,rewardPopVisible:!1,admin_id:0,customer:{cash:{},reward:{}},addnote:!1,projectProcesses:[],intention:["未知","有原料","有资金","有能力"],newProgress:null,cashDialogVisible:!1,cash:{},cashFormRule:{money:[{validator:m.a.money,trigger:"blur,change"}],note:[{required:!0,message:"备注不能为空"}]},rewardDialogVisible:!1,reward:{},rewardFormRule:{money:[{validator:m.a.money,trigger:"blur,change"}],note:[{required:!0,message:"备注不能为空"}]}}},components:{Review:p.a,Refresh:f.a},head:{title:function(){return{inner:this.customer.username?"投资人“"+this.customer.username+"”的信息详情":"投资人信息详情"}}},watch:{$route:function(e,t){e.params.cache||"CustomerDetail"!==e.name||this.getDetail()}},methods:{goConflictDetail:function(e){this.conflictDialogVisible=!1,this.$router.push({name:"CustomerDetail",params:{id:e,cache:!1}})},addProgress:function(){this.newProgress=""},removeProgress:function(e){var t=this;return o()(a.a.mark(function r(){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:""!==e?t.$alert("该条进展已有内容，您不能进行该操作！","错误",{confirmButtonText:"确定",type:"error"}):t.newProgress=null;case 1:case"end":return r.stop()}},r,t)}))()},onSubmit:function(){var e=this;return o()(a.a.mark(function t(){var r,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.projectId||!e.newProgress){t.next=7;break}return t.next=3,u.a.addProgress(e.projectId,e.newProgress);case 3:r=t.sent,s=r.data,e.projectProcesses.splice(0,0,{progress:s.progress,created_at:s.created_at,key:+new Date}),e.newProgress="";case 7:case"end":return t.stop()}},t,e)}))()},setCash:function(){var e=this;return o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.cashForm.validate(function(){var t=o()(a.a.mark(function t(r){var s,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=21;break}if(t.prev=1,!e.projectId){t.next=14;break}return t.next=5,u.a.addProgress(e.projectId,e.cash.note);case 5:return t.next=7,l.a.setCash(e.$route.params.id,e.cash.money,e.cash.note);case 7:s=t.sent,n=s.data,e.reloadProgress(),e.customer.cash.money=n.money,e.cashDialogVisible=!1,e.getProgresses(e.$route.params.id),e.$message({type:"success",message:"设置成功，您设置的红包金额为"+e.customer.cash.money});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),e.cashDialogVisible=!1;case 19:t.next=22;break;case 21:return t.abrupt("return",!1);case 22:case"end":return t.stop()}},t,e,[[1,16]])}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},setReward:function(){var e=this;return o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.rewardForm.validate(function(){var t=o()(a.a.mark(function t(r){var s,n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=27;break}if(t.prev=1,!e.projectId){t.next=20;break}return t.prev=3,t.next=6,u.a.addProgress(e.projectId,e.reward.note);case 6:return t.next=8,l.a.setReward(e.$route.params.id,e.reward.money,e.reward.note);case 8:s=t.sent,n=s.data,e.reloadProgress(),e.rewardDialogVisible=!1,e.reward.money=n.money,e.customer.reward={money:n.money},e.getProgresses(e.$route.params.id),e.$message({type:"success",message:"设置成功"}),t.next=20;break;case 18:t.prev=18,t.t0=t.catch(3);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(1),e.rewardDialogVisible=!1;case 25:t.next=28;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,e,[[1,22],[3,18]])}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},getDetail:function(){var e=this;return o()(a.a.mark(function t(){var r,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$Progress.start(),e.loading=!0,t.prev=2,t.next=5,c.a.getOne(e.$route.params.id);case 5:r=t.sent,s=r.data,s.location=d.a.parseLocation(s.location),e.customer=s,e.getConflictReflect(),e.getConflicts(),e.$emit("updateHead"),e.customer.cash={},e.customer.reward={},e.getCash(s.project_id),e.projectId=s.project_id,"invalid"!==c.a.status&&"review"!==c.a.status&&e.getProgresses(e.$route.params.id),e.$Progress.finish(),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),e.$Progress.fail();case 23:e.loading=!1;case 24:case"end":return t.stop()}},t,e,[[2,20]])}))()},getCash:function(e){var t=this;return o()(a.a.mark(function r(){var s,n;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=9;break}return r.next=3,l.a.getCash(t.$route.params.id);case 3:s=r.sent,n=s.data,t.customer.cash={money:n.cash.money,note:n.cash.note,apply:n.cash.apply,is_remit:n.cash.is_remit,progress_id:n.cash.projects_progress_id},t.customer.reward={money:n.reward.money,note:n.reward.note,is_remit:n.reward.is_remit,apply:n.reward.apply,progress_id:n.reward.projects_progress_id},r.next=10;break;case 9:t.$alert("该项目不存在！");case 10:case"end":return r.stop()}},r,t)}))()},cashRemitConfirm:function(){var e=this;return o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("请确认是否将该条信息对应红包金额打款到对方银行账户，继续则代表您已经确认打款完成！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:return t.prev=2,t.next=5,e.cashRemit(e.customer.cash.progress_id);case 5:e.$message.success("成功标记红包为已打款"),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:case"end":return t.stop()}},t,e,[[2,8]])}))()},rewardRemitConfirm:function(){var e=this;return o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("请确认是否将该条信息对应项目奖金打款到对方银行账户，继续则代表您已经确认打款完成！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:return t.prev=2,t.next=5,e.rewardRemit(e.customer.reward.progress_id);case 5:e.$message.success("成功标记项目奖金为已打款"),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:case"end":return t.stop()}},t,e,[[2,8]])}))()},getProgresses:function(e){var t=this;return o()(a.a.mark(function r(){var s,n,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.$loading({target:document.querySelector(".progress-column"),lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(255,255,255, 0.7)"}),r.next=3,u.a.getProgress(e);case 3:n=r.sent,o=n.data,t.projectProcesses=o.progress,s.close();case 7:case"end":return r.stop()}},r,t)}))()},reloadProgress:function(){this.getProgresses(this.customer.id)},cashRemit:function(e){var t=this;return o()(a.a.mark(function r(){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.loading=!0,r.next=4,l.a.remit(e);case 4:t.customer.cash.is_remit=1,r.next=9;break;case 7:r.prev=7,r.t0=r.catch(0);case 9:t.loading=!1;case 10:case"end":return r.stop()}},r,t,[[0,7]])}))()},rewardRemit:function(e){var t=this;return o()(a.a.mark(function r(){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.loading=!0,r.next=4,l.a.remit(e);case 4:t.customer.reward.is_remit=1,r.next=9;break;case 7:r.prev=7,r.t0=r.catch(0);case 9:t.loading=!1;case 10:case"end":return r.stop()}},r,t,[[0,7]])}))()},getConflictReflect:function(){var e=this;return o()(a.a.mark(function t(){var r,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("conflict"!==e.customer.status){t.next=6;break}return t.next=3,c.a.getConflictReflect(e.$route.params.id);case 3:r=t.sent,s=r.data,e.reflectConflict=s;case 6:case"end":return t.stop()}},t,e)}))()},getConflicts:function(){var e=this;return o()(a.a.mark(function t(){var r,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("conflict"===e.customer.status){t.next=11;break}return t.prev=1,t.next=4,c.a.getConflicts(e.$route.params.id);case 4:r=t.sent,s=r.data,e.conflicts=s,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}},t,e,[[1,9]])}))()}},mounted:function(){var e=this;return o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.getCurrentAdmin();case 2:return e.admin_id=t.sent,t.next=5,e.getDetail();case 5:case"end":return t.stop()}},t,e)}))()}}},Diqs:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleReview}},[r("el-button",{attrs:{type:"text",disabled:e.disabled}},["review"===e.customer.status?[r("span",{staticClass:"text-warning"},[r("i",{staticClass:"icon el-icon-info"}),e._v("待审核")])]:e._e(),e._v(" "),"conflict"===e.customer.status?[r("span",{staticClass:"text-danger"},[r("i",{staticClass:"icon el-icon-warning"}),e._v("冲突信息")])]:e._e(),e._v(" "),"process"===e.customer.status?[r("span",{staticClass:"text-primary"},[r("i",{staticClass:"icon el-icon-time"}),e._v("进行中")])]:e._e(),e._v(" "),"success"===e.customer.status?[r("span",{staticClass:"text-success"},[r("i",{staticClass:"icon el-icon-success"}),e._v("成功")])]:e._e(),e._v(" "),"invalid"===e.customer.status?[r("span",{staticClass:"text-info"},[r("i",{staticClass:"icon el-icon-error"}),e._v("无效")])]:e._e()],2),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"process",disabled:"success"===e.customer.status||"process"===e.customer.status}},[r("i",{staticClass:"el-icon-info text-primary"}),r("span",{staticClass:"text-primary"},[e._v("通过审核")])]),e._v(" "),r("el-dropdown-item",{attrs:{command:"conflict",disabled:"conflict"===e.customer.status||"success"===e.customer.status||"invalid"===e.customer.status}},[r("i",{staticClass:"el-icon-warning text-danger"}),r("span",{staticClass:"text-danger"},[e._v("冲突信息")])]),e._v(" "),r("el-dropdown-item",{attrs:{command:"success",disabled:"success"===e.customer.status||"review"===e.customer.status||"invalid"===e.customer.status||"conflict"===e.customer.status}},[r("i",{staticClass:"icon el-icon-success text-success"}),r("span",{staticClass:"text-success"},[e._v("标记成功")])]),e._v(" "),r("el-dropdown-item",{attrs:{command:"invalid",disabled:"invalid"===e.customer.status}},[r("i",{staticClass:"icon el-icon-error text-info"}),r("span",{staticClass:"text-info"},[e._v("标记无效")])])],1)],1),e._v(" "),r("el-dialog",{staticClass:"quote-dialog",attrs:{title:"引用投资人信息",visible:e.dialogQuoteVisible,"before-close":e.handleClose,width:"70%","close-on-click-modal":!1}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.quoteLoading,expression:"quoteLoading"}],staticClass:"search",attrs:{"element-loading-text":"玩命加载中..."}},[r("el-form",{attrs:{inline:"",model:e.searchInput,size:"mini"}},[r("el-form-item",{attrs:{label:"姓名"}},[r("el-input",{attrs:{placeholder:"姓名","prefix-icon":"el-icon-service"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchQuotes(t)}},model:{value:e.searchInput.username,callback:function(t){e.$set(e.searchInput,"username",t)},expression:"searchInput.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话"}},[r("el-input",{attrs:{placeholder:"电话号码","prefix-icon":"el-icon-phone"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchQuotes(t)}},model:{value:e.searchInput.phone,callback:function(t){e.$set(e.searchInput,"phone",t)},expression:"searchInput.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态",placeholder:"推荐状态"}},[r("el-select",{model:{value:e.searchInput.status,callback:function(t){e.$set(e.searchInput,"status",t)},expression:"searchInput.status"}},[r("el-option",{attrs:{label:"进行中",value:"process"}}),e._v(" "),r("el-option",{attrs:{label:"成功",value:"success"}})],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchQuotes}},[e._v("查找")])],1)],1)],1),e._v(" "),r("el-table",{attrs:{data:e.customers,height:"250",width:"800"}},[r("el-table-column",{attrs:{type:"index",width:"40"}}),e._v(" "),r("el-table-column",{attrs:{label:"姓名",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticStyle:{"padding-top":"0","padding-bottom":"0"},attrs:{type:"text",disabled:t.row.id===e.customer.id||"conflict"===t.row.status||"review"===t.row.status||"invalid"===t.row.status},on:{click:function(r){e.addQuote(t.row)}}},[e._v("\n            "+e._s(t.row.username)+"\n          ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return["review"===t.row.status?r("span",{staticClass:"text-warning"},[e._v("待审核")]):e._e(),e._v(" "),"process"===t.row.status?r("span",{staticClass:"text-primary"},[e._v("进行中")]):e._e(),e._v(" "),"success"===t.row.status?r("span",{staticClass:"text-success"},[e._v("已成功")]):e._e(),e._v(" "),"invalid"===t.row.status?r("span",{staticClass:"text-info"},[e._v("无效")]):e._e(),e._v(" "),"conflict"===t.row.status?r("span",{staticClass:"text-danger"},[e._v("冲突")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{property:"location",label:"地址",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{property:"phone",label:"电话",width:"150"}}),e._v(" "),r("el-table-column",{attrs:{property:"created_at",label:"推荐时间"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{staticStyle:{"padding-top":"0","padding-bottom":"0"},attrs:{type:"text",disabled:t.row.id===e.customer.id||"conflict"===t.row.status||"review"===t.row.status||"invalid"===t.row.status},on:{click:function(r){e.addQuote(t.row)}}},[e._v("引用\n          ")])]}}])})],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-pagination",{staticClass:"dialog-page",attrs:{"page-size":15,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.changePage}})],1)],1),e._v(" "),r("el-dialog",{staticClass:"note-dialog",attrs:{title:"备注",visible:e.noteDialogVisible,width:"30%",top:"28vh","lock-scroll":"","close-on-click-modal":!1,"before-close":e.handleCloseNoteDialog}},[r("div",{staticStyle:{"margin-bottom":"10px"}},[e._v("请输入"+e._s(e.text)+"的备注信息")]),e._v(" "),r("label",[e._v("管理员备注")]),e._v(" "),r("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入"+e.text+"的备注信息，只对管理员自己可见，这是必填的"},model:{value:e.customer.admin_note,callback:function(t){e.$set(e.customer,"admin_note",t)},expression:"customer.admin_note"}}),e._v(" "),r("label",[e._v("用户进展提示")]),e._v(" "),r("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"textarea",placeholder:e.text+"信息备注，将会在用户前端进展显示，用于告知用户"+e.text+"原因，这也是必填的！"},model:{value:e.customer.invalid_progress,callback:function(t){e.$set(e.customer,"invalid_progress",t)},expression:"customer.invalid_progress"}}),e._v(" "),"conflict"===e.command?r("el-button",{attrs:{type:"text"},on:{click:e.quote}},[e._v("引用冲突信息")]):e._e(),e._v(" "),r("div",[e.conflict?r("el-tag",{attrs:{closable:""},on:{close:e.removeConflict}},[e._v(e._s(e.conflict.username))]):e._e()],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:function(t){e.noteDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addNote}},[e._v("确 定")])],1)],1)],1)},a=[],n={render:s,staticRenderFns:a};t.a=n},EMlb:function(e,t,r){"use strict";var s=r("Xxa5"),a=r.n(s),n=r("exGp"),o=r.n(n),i=r("Zx67"),c=r.n(i),l=r("Zrlr"),u=r.n(l),p=r("wxAW"),d=r.n(p),m=r("zwoO"),f=r.n(m),v=r("Pf15"),g=r.n(v),h=r("pP4B"),_=function(e){function t(){return u()(this,t),f()(this,(t.__proto__||c()(t)).apply(this,arguments))}return g()(t,e),d()(t,null,[{key:"getList",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var r,s=t.userId,n=void 0===s?"":s,o=t.status,i=void 0===o?"":o,c=t.isRead,l=void 0===c?"":c,u=t.hasProgress,p=void 0===u?"":u,d=t.page,m=void 0===d?1:d,f=t.size,v=void 0===f?15:f;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.baseUrl+"/user/project/list?user_id="+n+"&status="+i+"&isRead="+l+"&hasProgress="+p+"&page="+m+"&size="+v,e.next=3,this.get(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"update",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var r,s=t.id,n=t.status,o=t.money,i=void 0===o?0:o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.baseUrl+"/admin/project",e.next=3,this.put(r,{id:s,status:n,money:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getMoney",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return e}()},{key:"getProgress",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.baseUrl+"/user/progress?recommend_id="+t,e.next=3,this.get(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"addProgress",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t,r){var s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.baseUrl+"/admin/progress",e.next=3,this.post(s,{project_id:t,progress:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()}]),t}(h.a);t.a=_},I83l:function(e,t,r){t=e.exports=r("FZ+f")(!0),t.push([e.i,".note-dialog .el-dialog__header{padding:15px 15px 0}.note-dialog .el-dialog__body{padding:0 20px}.note-dialog .el-dialog__footer{padding:0 15px 10px}","",{version:3,sources:["D:/working/manage-sales/src/components/Review.vue"],names:[],mappings:"AACA,gCACE,mBAAqB,CACtB,AACD,8BACE,cAAgB,CACjB,AACD,gCACE,mBAAqB,CACtB",file:"Review.vue",sourcesContent:["\n.note-dialog .el-dialog__header {\n  padding: 15px 15px 0;\n}\n.note-dialog .el-dialog__body {\n  padding: 0 20px;\n}\n.note-dialog .el-dialog__footer {\n  padding: 0 15px 10px;\n}\n"],sourceRoot:""}])},O4YQ:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Refresh",{staticClass:"pull-right",attrs:{type:"danger"},on:{refresh:e.getDetail}}),e._v(" "),r("h3",[e._v("推荐信息详情")]),e._v(" "),r("el-form",{attrs:{"label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-row",[r("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{span:12,"element-loading-text":"玩命加载中"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"姓名:"}},[r("span",[e._v(e._s(e.customer.username))])])],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"归属人:"}},[e.customer.belong_user?r("router-link",{attrs:{to:{name:"CustomerList",query:{user_id:e.customer.user_id},params:{cache:!1}}}},[e._v("\n                "+e._s(e.customer.belong_user)+"\n              ")]):r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"未授权用户",placement:"top-start"}},[r("router-link",{staticClass:"text-warning",attrs:{to:{name:"CustomerList",query:{user_id:e.customer.user_id},params:{cache:!1}}}},[e._v("\n                  "+e._s("无名氏"+e.customer.user_id)+"\n                ")])],1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态:"}},[r("Review",{attrs:{customer:e.customer,disabled:!!e.customer.admin_id&&e.admin_id!==e.customer.admin_id},on:{"update:customer":function(t){e.customer=t},addProgress:e.reloadProgress}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"电话:"}},[r("span",[e._v(e._s(e.customer.phone))])])],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"更新时间:"}},[r("span",[e._v(e._s(e.customer.updated_at))])])],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"推荐时间:"}},[r("span",[e._v(e._s(e.customer.created_at))])])],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"地址"}},[r("span",[e._v(e._s(e.customer.location))])])],1),e._v(" "),"conflict"===e.customer.status&&e.reflectConflict?r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"冲突对象"}},[r("router-link",{staticClass:"text-primary",attrs:{to:{name:"CustomerDetail",params:{id:e.reflectConflict.id,cache:!1}}}},[e._v(e._s(e.reflectConflict.username)+"\n              ")])],1)],1):e._e(),e._v(" "),"conflict"!==e.customer.status&&e.conflicts?r("el-col",{attrs:{span:12}},[r("el-dialog",{attrs:{title:"与我冲突的投资人",visible:e.conflictDialogVisible},on:{close:function(t){e.conflictDialogVisible=!1}}},[r("el-table",{attrs:{stripe:"",data:e.conflicts,"max-height":"350"}},[r("el-table-column",{attrs:{type:"index"}}),e._v(" "),r("el-table-column",{attrs:{width:"100",property:"username",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){e.goConflictDetail(t.row.id)}}},[e._v("\n                      "+e._s(t.row.username)+"\n                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"160",label:"意向"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.intention[t.row.intention]))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"120",property:"phone",label:"电话"}}),e._v(" "),r("el-table-column",{attrs:{property:"created_at",label:"推荐时间"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"与我冲突"}},[r("el-button",{attrs:{type:"text"},on:{click:function(t){e.conflictDialogVisible=!0}}},[e._v("谁与我冲突？")])],1)],1):e._e()],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"意向"}},[r("span",[e._v(e._s(e.intention[e.customer.intention]))])])],1)],1),e._v(" "),e.customer.admin_note?r("el-form-item",{attrs:{label:"项目备注"}},[r("span",[e._v(e._s(e.customer.admin_note))])]):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"用户备注"}},[e.customer.note?r("span",[e._v(e._s(e.customer.note))]):r("span",{staticClass:"text-info"},[e._v("未填写")])]),e._v(" "),"invalid"!==e.customer.status&&"review"!==e.customer.status?r("el-form-item",{attrs:{label:"项目奖金"}},[r("el-tooltip",{attrs:{effect:"dark",content:"只有成功状态才可以设置奖金",placement:"top"}},[e.customer.reward.money<=0?r("el-button",{attrs:{disabled:!!e.customer.admin_id&&e.admin_id!==e.customer.admin_id||"success"!==e.customer.status,type:"text"},on:{click:function(t){e.rewardDialogVisible=!0}}},[e._v("未设置\n            ")]):e._e()],1),e._v(" "),e.customer.reward.money>0?[r("span",[e._v(e._s(e.customer.reward.money))]),e._v(" "),1!==e.customer.reward.apply||e.customer.reward.is_remit?e._e():r("span",{staticClass:"apply text-danger"},[e._v("（已申请领取）"),r("el-button",{attrs:{type:"text",disabled:!!e.customer.admin_id&&e.admin_id!==e.customer.admin_id},on:{click:e.rewardRemitConfirm}},[e._v("打款完成？")])],1),e._v(" "),1===e.customer.reward.is_remit?r("span",{staticClass:"text-danger"},[e._v("（已打款）")]):e._e(),e._v(" "),0===e.customer.reward.apply?r("span",{staticClass:"apply text-info"},[e._v("（未申请领取）")]):e._e()]:e._e()],2):e._e(),e._v(" "),"review"!==e.customer.status?r("el-form-item",{attrs:{label:"红包"}},[e.customer.cash.money?e._e():r("el-button",{attrs:{disabled:!!e.customer.admin_id&&e.admin_id!==e.customer.admin_id||"success"===e.customer.status||"conflict"===e.customer.status||"invalid"===e.customer.status,type:"text"},on:{click:function(t){e.cashDialogVisible=!0}}},[e._v("未发放\n          ")]),e._v(" "),e.customer.cash.money>0?[r("span",[e._v(e._s(e.customer.cash.money))]),e._v(" "),1!==e.customer.cash.apply||e.customer.cash.is_remit?e._e():r("span",{staticClass:"apply text-danger"},[e._v("（已申请领取）\n              "),r("el-button",{attrs:{type:"text",disabled:!!e.customer.admin_id&&e.admin_id!==e.customer.admin_id},on:{click:e.cashRemitConfirm}},[e._v("打款完成？")])],1),e._v(" "),e.customer.cash.is_remit?r("span",{staticClass:"text-danger"},[e._v("（已打款）")]):e._e(),e._v(" "),0===e.customer.cash.apply?r("span",{staticClass:"apply text-info"},[e._v("（未申请领取）")]):e._e()]:e._e()],2):e._e(),e._v(" "),"review"!==e.customer.status?[r("el-form-item",{staticClass:"progress-column",attrs:{label:"进展"}},["success"!==e.customer.status&&"invalid"!==e.customer.status&&"conflict"!==e.customer.status&&null===e.newProgress?r("el-button",{attrs:{disabled:!!e.customer.admin_id&&e.admin_id!==e.customer.admin_id,type:"text",icon:"el-icon-circle-plus",size:"small"},on:{click:e.addProgress}},[e._v("新增\n            ")]):e._e(),e._v(" "),null!==e.newProgress?r("div",{staticClass:"progress"},[r("div",{staticClass:"progress-detail"},["process"===e.customer.status?r("el-input",{attrs:{placeholder:"请输入进展详情"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.onSubmit(t)}},model:{value:e.newProgress,callback:function(t){e.newProgress=t},expression:"newProgress"}}):e._e(),e._v(" "),r("i",{staticClass:"remove input-icon el-icon-circle-close-outline",on:{click:function(t){e.removeProgress(e.newProgress)}}})],1)]):e._e(),e._v(" "),e._l(e.projectProcesses,function(t,s){return r("div",{key:s,staticClass:"progress"},[r("div",{staticClass:"progress-detail"},[t.id===e.customer.cash.progress_id&&e.customer.cash.money?r("el-alert",{attrs:{title:t.progress+" （发放红包"+e.customer.cash.money+"）",type:"process"===e.customer.status&&0===s?"warning":"success",closable:!1,description:t.created_at},model:{value:t.progress,callback:function(r){e.$set(t,"progress",r)},expression:"progress.progress"}}):t.id===e.customer.reward.progress_id&&e.customer.reward.money?r("el-alert",{attrs:{title:t.progress+" （发放奖金"+e.customer.reward.money+"）",type:"process"===e.customer.status&&0===s?"warning":"success",closable:!1,description:t.created_at},model:{value:t.progress,callback:function(r){e.$set(t,"progress",r)},expression:"progress.progress"}}):r("el-alert",{attrs:{title:t.progress,type:"process"===e.customer.status&&0===s?"warning":"success",closable:!1,description:t.created_at},model:{value:t.progress,callback:function(r){e.$set(t,"progress",r)},expression:"progress.progress"}})],1)])})],2)]:e._e()],2),e._v(" "),r("el-col",{attrs:{span:12}},["review"!==e.customer.status?[r("el-form-item",{attrs:{label:"进展详情"}},[r("el-steps",{attrs:{"process-status":"process",active:e.projectProcesses.length-2,"align-center":"",direction:"vertical"}},[e._l(e.projectProcesses,function(t,s){return[t.id===e.customer.cash.progress_id&&e.customer.cash.money?r("el-step",{key:s,attrs:{title:t.progress,description:"发放红包"+e.customer.cash.money+"（"+t.created_at+"）",icon:s>0?"":"el-icon-time",status:s>0?"success":""}}):t.id===e.customer.reward.progress_id&&e.customer.reward.money?r("el-step",{key:s,attrs:{title:t.progress,description:"发放奖金"+e.customer.reward.money+"（"+t.created_at+"）",icon:s>0?"":"el-icon-time",status:s>0?"success":""}}):r("el-step",{key:s,attrs:{title:t.progress,description:t.created_at,icon:s>0?"":"el-icon-time",status:s>0?"success":""}})]})],2)],1)]:e._e()],2)],1),e._v(" "),r("el-form-item",["process"===e.customer.status?r("el-button",{attrs:{type:"primary",disabled:!!e.customer.admin_id&&e.admin_id!==e.customer.admin_id},on:{click:e.onSubmit}},[e._v("\n        立即更新\n      ")]):e._e(),e._v(" "),r("el-button",{on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"发放红包",visible:e.cashDialogVisible},on:{"update:visible":function(t){e.cashDialogVisible=t}}},[r("el-form",{ref:"cashForm",attrs:{model:e.cash,rules:e.cashFormRule},nativeOn:{submit:function(t){t.preventDefault(),e.setCash(t)}}},[e.cash.money?r("el-form-item",{attrs:{label:"您输入的金额为："}},[r("span",{staticClass:"text-lg"},[r("strong",[e._v(e._s(e._f("currency")(e.cash.money)))])])]):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"红包金额",prop:"money","label-width":"80px"}},[r("el-input",{attrs:{"auto-complete":"off",autofocus:""},model:{value:e.cash.money,callback:function(t){e.$set(e.cash,"money",t)},expression:"cash.money"}},[r("template",{slot:"prepend"},[e._v("￥")])],2)],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"note","label-width":"80px"}},[r("el-input",{attrs:{type:"textarea","auto-complete":"off",placeholder:"红包备注，同时该条备注会展示在前端用户的进展中"},nativeOn:{keyup:function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key))&&t.altKey?void e.setCash(t):null}},model:{value:e.cash.note,callback:function(t){e.$set(e.cash,"note",t)},expression:"cash.note"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.cashDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.setCash}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"设置项目奖金",visible:e.rewardDialogVisible},on:{"update:visible":function(t){e.rewardDialogVisible=t}}},[r("el-form",{ref:"rewardForm",attrs:{model:e.reward,rules:e.rewardFormRule},nativeOn:{submit:function(t){t.preventDefault(),e.setReward(t)}}},[e.reward.money?r("el-form-item",{attrs:{label:"您设置的奖金为："}},[r("span",{staticClass:"text-lg"},[r("strong",[e._v(e._s(e._f("currency")(e.reward.money)))])])]):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"奖金金额",prop:"money","label-width":"80px"}},[r("el-input",{attrs:{"auto-complete":"off",autofocus:""},model:{value:e.reward.money,callback:function(t){e.$set(e.reward,"money",t)},expression:"reward.money"}},[r("template",{slot:"prepend"},[e._v("￥")])],2)],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"note","label-width":"80px"}},[r("el-input",{attrs:{type:"textarea","auto-complete":"off"},nativeOn:{keyup:function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key))&&t.ctrlKey?void e.setReward(t):null}},model:{value:e.reward.note,callback:function(t){e.$set(e.reward,"note",t)},expression:"reward.note"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.rewardDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.setReward}},[e._v("确 定")])],1)],1)],1)},a=[],n={render:s,staticRenderFns:a};t.a=n},"Q+i8":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-button",{attrs:{size:e.size,icon:"el-icon-refresh",type:e.type,plain:"",loading:e.loading,timeout:e.timeout,disabled:e.refreshDisable},on:{click:e.refresh}},[e._v(e._s(e.refreshText)+"\n")])},a=[],n={render:s,staticRenderFns:a};t.a=n},UL3F:function(e,t,r){var s=r("I83l");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r("rjj0")("4f1c77b0",s,!0)},VYwL:function(e,t,r){"use strict";var s=r("Xxa5"),a=r.n(s),n=r("exGp"),o=r.n(n),i=r("mMlH"),c=r("EMlb"),l=r("JaHG");t.a={props:["customer","disabled"],data:function(){return{dialogQuoteVisible:!1,noteDialogVisible:!1,quoteLoading:!1,customers:[],text:"",searchInput:{},conflict:null,page:1,total:0,command:""}},methods:{handleReview:function(e){var t=this;return o()(a.a.mark(function r(){var s,n,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:s="",r.t0=e,r.next="process"===r.t0?4:"success"===r.t0?6:"invalid"===r.t0?8:"conflict"===r.t0?10:12;break;case 4:return s="通过审核",r.abrupt("break",12);case 6:return s="成功",r.abrupt("break",12);case 8:return s="无效",r.abrupt("break",12);case 10:return s="冲突",r.abrupt("break",12);case 12:if(t.text=s,t.command=e,"process"!==e&&"success"!==e){r.next=17;break}return r.next=17,t.$confirm("确定要标记这条信息为“"+s+"”状态吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 17:if(r.prev=17,"conflict"!==e&&"invalid"!==e){r.next=22;break}t.noteDialogVisible=!0,r.next=31;break;case 22:return t.loading=t.$loading({lock:!0,text:"正在修改",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"}),r.next=25,i.a.review(t.customer.id,e);case 25:n=r.sent,o=n.data,t.customer.status=o.status,t.$emit("update:row",e),t.loading.close(),t.$message({type:"success",showClose:!0,dangerouslyUseHTMLString:!0,message:"成功标记推荐信息为“<strong>"+s+"</strong>”状态"});case 31:r.next=38;break;case 33:r.prev=33,r.t1=r.catch(17),console.error(r.t1),t.loading.close(),t.$message({type:"error",showClose:!0,dangerouslyUseHTMLString:!0,message:"标记失败！ "+r.t1.errmsg});case 38:case"end":return r.stop()}},r,t,[[17,33]])}))()},quote:function(){var e=this;return o()(a.a.mark(function t(){var r,s,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$loading({target:document.querySelector(".quote-dialog"),text:"玩命加载中...",fullscreen:!1}),e.dialogQuoteVisible=!0,t.prev=2,e.status=["process","success"],t.next=6,i.a.search({status:e.status});case 6:s=t.sent,n=s.data,o=s.total,n?(e.customers=n.map(function(e){return e.location=l.a.parseLocation(e.location),e}),e.total=o):e.customers=[],t.next=14;break;case 12:t.prev=12,t.t0=t.catch(2);case 14:r.close();case 15:case"end":return t.stop()}},t,e,[[2,12]])}))()},addQuote:function(e){this.conflict=e,this.dialogQuoteVisible=!1},searchQuotes:function(){var e=this;return o()(a.a.mark(function t(){var r,s,n,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$loading({target:document.querySelector(".quote-dialog"),text:"玩命加载中...",fullscreen:!1}),e.status=[e.searchInput.status],t.next=4,i.a.search({phone:e.searchInput.phone,username:e.searchInput.username,status:e.searchInput.status,page:e.page});case 4:s=t.sent,n=s.data,o=s.total,n?(e.customers=n.map(function(e){return e.location=l.a.parseLocation(e.location),e}),e.total=o):e.customers=[],r.close();case 9:case"end":return t.stop()}},t,e)}))()},changePage:function(e){var t=this;return o()(a.a.mark(function r(){var s,n,o,c;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.$loading({target:document.querySelector(".quote-dialog"),text:"玩命加载中...",fullscreen:!1}),r.prev=1,r.next=4,i.a.search({phone:t.searchInput.phone,username:t.searchInput.username,status:t.status,page:e});case 4:n=r.sent,o=n.data,c=n.total,o?(t.customers=o.map(function(e){return e.location=l.a.parseLocation(e.location),e}),t.total=c):t.customers=[],r.next=12;break;case 10:r.prev=10,r.t0=r.catch(1);case 12:s.close();case 13:case"end":return r.stop()}},r,t,[[1,10]])}))()},removeConflict:function(){this.conflict=null},handleClose:function(){this.dialogQuoteVisible=!1},handleCloseNoteDialog:function(){this.noteDialogVisible=!1},addNote:function(){var e=this;return o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("conflict"!==e.command){t.next=20;break}if(t.prev=1,!e.customer.admin_note||!e.customer.invalid_progress){t.next=14;break}if(e.conflict){t.next=6;break}return e.$message.error("您必须添加冲突信息引用才可以继续！"),t.abrupt("return");case 6:return t.next=8,i.a.addConflictRelations({id:e.$route.params.id,conflict_id:e.conflict.id,note:e.customer.admin_note});case 8:return t.next=10,c.a.addProgress(e.customer.project_id,e.customer.invalid_progress);case 10:e.$message({type:"success",message:"成功标记"+e.customer.username+"为冲突信息"}),e.customer.status="conflict",e.$emit("addProgress"),e.noteDialogVisible=!1;case 14:t.next=18;break;case 16:t.prev=16,t.t0=t.catch(1);case 18:t.next=37;break;case 20:if("invalid"!==e.command){t.next=37;break}if(t.prev=21,!e.customer.admin_note||!e.customer.invalid_progress){t.next=33;break}return t.next=25,i.a.review(e.customer.id,"invalid");case 25:return t.next=27,i.a.addNote(e.customer.id,e.customer.admin_note);case 27:return t.next=29,c.a.addProgress(e.customer.project_id,e.customer.invalid_progress);case 29:e.$message({type:"success",message:"成功标记"+e.customer.username+"为无效信息"}),e.customer.status="invalid",e.$emit("addProgress"),e.noteDialogVisible=!1;case 33:t.next=37;break;case 35:t.prev=35,t.t1=t.catch(21);case 37:case"end":return t.stop()}},t,e,[[1,16],[21,35]])}))()}}}},ZQlS:function(e,t,r){"use strict";t.a={props:{type:{type:String,default:"primary"},size:{type:String,default:"mini"},loading:{type:Boolean,default:!1},timeout:{type:Number,default:5e3}},data:function(){return{refreshText:"刷新",refreshDisable:!1}},methods:{refresh:function(){var e=this;this.$emit("refresh"),this.refreshText=5,this.refreshDisable=!0;var t=window.setInterval(function(){e.refreshText-=1},1e3);window.setTimeout(function(){clearInterval(t),e.refreshText="刷新",e.refreshDisable=!1},this.timeout)}}}},gec0:function(e,t,r){"use strict";var s=r("Xxa5"),a=r.n(s),n=r("exGp"),o=r.n(n),i=r("Zx67"),c=r.n(i),l=r("Zrlr"),u=r.n(l),p=r("wxAW"),d=r.n(p),m=r("zwoO"),f=r.n(m),v=r("Pf15"),g=r.n(v),h=r("pP4B"),_=r("JaHG"),b=function(e){function t(){return u()(this,t),f()(this,(t.__proto__||c()(t)).apply(this,arguments))}return g()(t,e),d()(t,null,[{key:"getCash",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.baseUrl+"/user/cash?recommend_id="+t,e.next=3,this.get(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"setCash",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t,r){var s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.baseUrl+"/admin/cash",e.next=3,this.post(s,{recommend_id:t,money:r,note:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"setReward",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=this.baseUrl+"/admin/reward";return this.post(s,{recommend_id:e,money:t,note:r})}},{key:"getCashes",value:function(e){var t=e.userId,r=e.status,s=e.species,a=e.page,n=void 0===a?1:a,o=e.size,i=void 0===o?15:o,c=_.a.stringify({userId:t,status:r,species:s,page:n,size:i}),l=this.baseUrl+"/user/cashrecommend/list"+c;return this.get(l)}},{key:"remit",value:function(e){var t=this.baseUrl+"/admin/cash/remit?projects_progress_id="+e;return this.put(t)}}]),t}(h.a);t.a=b},jKoA:function(e,t,r){"use strict";function s(e){r("UL3F")}var a=r("VYwL"),n=r("Diqs"),o=r("VU/8"),i=s,c=o(a.a,n.a,!1,i,null,null);t.a=c.exports},kWq3:function(e,t,r){"use strict";var s=r("Zrlr"),a=r.n(s),n=r("wxAW"),o=r.n(n),i=function(){function e(){a()(this,e)}return o()(e,null,[{key:"money",value:function(e,t,r){!1===/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/.test(t)?r(new Error("请输入正确的金额")):r()}},{key:"phone",value:function(e,t,r){if(""!==t){!1===/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/.test(t)?r(new Error("请输入正确的手机号")):r()}else r()}},{key:"email",value:function(e,t,r){if(t){!1===/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(t)?r(new Error("请输入正确的邮箱地址")):r()}else r()}}]),e}();t.a=i},mMlH:function(e,t,r){"use strict";var s=r("Xxa5"),a=r.n(s),n=r("exGp"),o=r.n(n),i=r("Zx67"),c=r.n(i),l=r("Zrlr"),u=r.n(l),p=r("wxAW"),d=r.n(p),m=r("zwoO"),f=r.n(m),v=r("Pf15"),g=r.n(v),h=r("JaHG"),_=r("pP4B"),b=function(e){function t(){return u()(this,t),f()(this,(t.__proto__||c()(t)).apply(this,arguments))}return g()(t,e),d()(t,null,[{key:"getList",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var r,s,n,o=t.status,i=void 0===o?"":o,c=t.page,l=void 0===c?1:c,u=t.size,p=void 0===u?15:u,d=t.userId,m=void 0===d?"":d;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={status:i,user_id:m,size:p,page:l},s=h.a.stringify(r),n=this.baseUrl+"/admin/recommend/search"+s,e.next=5,this.get(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"del",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.baseUrl+"/admin/recommend?id="+t,e.next=3,this.delete(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"review",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"review";return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.baseUrl+"/admin/recommend",e.next=3,this.post(r,{id:t,status:s});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getOne",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.baseUrl+"/admin/recommend?id="+t,e.next=3,this.get(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"getDeleted",value:function(){function e(){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(){var t,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.baseUrl+"/admin/recommend/deleted",e.next=3,this.get(t);case 3:return r=e.sent,e.abrupt("return",h.a.response(r));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"restore",value:function(){function e(e){return t.apply(this,arguments)}var t=o()(a.a.mark(function e(t){var r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.baseUrl+"/admin/recommend/restore",e.next=3,this.get(r);case 3:return s=e.sent,e.abrupt("return",h.a.response(s));case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"recommendsCount",value:function(e){var t=this.baseUrl+"/admin/recommend/count?days="+e;return this.get(t)}},{key:"getHandleUsers",value:function(e){var t=this.baseUrl+"/admin/user/admins?admin_name="+e;return this.get(t)}},{key:"getBelongUsers",value:function(e){var t=this.baseUrl+"/admin/user/belongs?user_name="+e;return this.get(t)}},{key:"search",value:function(e){var t=e.username,r=void 0===t?null:t,s=e.status,a=void 0===s?null:s,n=e.phone,o=void 0===n?null:n,i=e.permission,c=void 0===i?null:i,l=e.intention,u=void 0===l?null:l,p=e.admin_id,d=void 0===p?null:p,m=e.user_id,f=void 0===m?null:m,v=e.start,g=void 0===v?null:v,_=e.end,b=void 0===_?null:_,x=e.page,w=void 0===x?1:x,y=e.size,k=void 0===y?15:y,C={username:r,status:a,phone:o,permission:c,intention:u,admin_id:d,user_id:f,start:g,end:b,page:w,size:k},A=h.a.stringify(C,{arrayFormat:"indices"}),D=this.baseUrl+"/admin/recommend/search"+A;return this.get(D)}},{key:"addConflictRelations",value:function(e){var t=e.id,r=e.conflict_id,s=e.note,a=this.baseUrl+"/admin/recommend/conflict";return this.post(a,{id:t,conflict_id:r,note:s})}},{key:"getConflicts",value:function(e){var t=this.baseUrl+"/admin/recommend/conflicts?id="+e;return this.get(t)}},{key:"getConflictReflect",value:function(e){var t=this.baseUrl+"/admin/recommend/conflicts/reflect?id="+e;return this.get(t)}},{key:"addNote",value:function(e,t){var r=this.baseUrl+"/admin/recommend/note";return this.post(r,{id:e,note:t})}}]),t}(_.a);t.a=b},nOvI:function(e,t,r){"use strict";function s(e){r("y0eA")}Object.defineProperty(t,"__esModule",{value:!0});var a=r("CfVP"),n=r("O4YQ"),o=r("VU/8"),i=s,c=o(a.a,n.a,!1,i,null,null);t.default=c.exports},tsO3:function(e,t,r){t=e.exports=r("FZ+f")(!0),t.push([e.i,".apply{font-size:12px}.el-step{height:80px}.progress-detail{margin-bottom:15px}.el-textarea,.progress-detail{position:relative}.el-textarea:hover+.remove,.progress-detail:hover .remove{display:block}.progress-detail textarea{margin-bottom:16px}.input-icon{position:absolute;width:14px;height:14px;text-align:center;background-color:#fff;cursor:pointer;display:none}.input-icon:hover{color:#fa5555;display:block}.remove{right:-7px;top:-6px}.edit{right:-7px;top:50%;margin-top:-14px}.progress-detail .el-alert__content{line-height:14px}.text-lg{font-size:28px}","",{version:3,sources:["D:/working/manage-sales/src/pages/customer/Detail.vue"],names:[],mappings:"AACA,OACE,cAAgB,CACjB,AACD,SACE,WAAa,CACd,AACD,iBAEE,kBAAoB,CACrB,AACD,8BAHE,iBAAmB,CAKpB,AAID,0DACI,aAAe,CAClB,AACD,0BACI,kBAAoB,CACvB,AACD,YACI,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,sBAAuB,AACvB,eAAgB,AAChB,YAAc,CACjB,AACD,kBACM,cAAe,AACf,aAAe,CACpB,AACD,QACI,WAAY,AACZ,QAAU,CACb,AACD,MACI,WAAY,AACZ,QAAS,AACT,gBAAkB,CACrB,AACD,oCACI,gBAAkB,CACrB,AACD,SACE,cAAgB,CACjB",file:"Detail.vue",sourcesContent:["\n.apply {\n  font-size: 12px;\n}\n.el-step {\n  height: 80px;\n}\n.progress-detail {\n  position: relative;\n  margin-bottom: 15px;\n}\n.el-textarea {\n    position: relative;\n}\n.el-textarea:hover + .remove {\n      display: block;\n}\n.progress-detail:hover .remove {\n    display: block;\n}\n.progress-detail textarea {\n    margin-bottom: 16px;\n}\n.input-icon {\n    position: absolute;\n    width: 14px;\n    height: 14px;\n    text-align: center;\n    background-color: #fff;\n    cursor: pointer;\n    display: none;\n}\n.input-icon:hover {\n      color: #FA5555;\n      display: block;\n}\n.remove {\n    right: -7px;\n    top: -6px;\n}\n.edit {\n    right: -7px;\n    top: 50%;\n    margin-top: -14px;\n}\n.progress-detail .el-alert__content {\n    line-height: 14px;\n}\n.text-lg {\n  font-size: 28px;\n}\n"],sourceRoot:""}])},y0eA:function(e,t,r){var s=r("tsO3");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r("rjj0")("c88465fa",s,!0)}});
//# sourceMappingURL=3.794f6b4491f3788ac4e2.js.map